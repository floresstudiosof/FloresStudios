<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>FLORES Studios - Descargar Videos</title>

<script src="https://cdn.tailwindcss.com"></script>

<style>
body{
  min-height:100vh;
  background-size:cover;
  background-position:center;
  background-repeat:no-repeat;
  transition: background-image 1s ease-in-out;
  overflow-x:hidden;
  color:white;
  font-family:sans-serif;
}

.overlay{
  position:fixed;
  inset:0;
  background:rgba(0,0,0,0.55);
  z-index:0;
}

.valentine-box{
  position:fixed;
  bottom:20px;
  left:50%;
  transform:translateX(-50%);
  width:90%;
  max-width:900px;
  background:rgba(255,255,255,0.15);
  backdrop-filter:blur(12px);
  padding:15px 25px;
  border-radius:20px;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:15px;
  box-shadow:0 0 25px rgba(255,255,255,0.2);
  z-index:10;
}

.valentine-box h3{
  font-weight:bold;
  font-size:18px;
  white-space:nowrap;
}

.valentine-box p{
  font-size:14px;
}

@media(max-width:768px){
  .valentine-box{
    flex-direction:column;
    text-align:center;
  }
  .valentine-box h3{
    white-space:normal;
  }
}

.btn-main,
#downloadHD,
#downloadMP3,
#downloadIMG{
  animation: heartbeat 1.5s infinite;
}

@keyframes heartbeat{
  0%{ transform:scale(1); }
  25%{ transform:scale(1.05); }
  40%{ transform:scale(1); }
  60%{ transform:scale(1.08); }
  100%{ transform:scale(1); }
}

.btn-main{
  background:linear-gradient(45deg,#ff4d6d,#ff85a2);
  box-shadow:0 0 15px #ff4d6d;
}

.loader{
  border:6px solid #fff;
  border-top:6px solid #ff4d6d;
  border-radius:50%;
  width:40px;
  height:40px;
  animation:spin 1s linear infinite;
  margin:auto;
}

@keyframes spin{to{transform:rotate(360deg)}}
</style>
</head>

<body>

<div class="overlay"></div>

<div class="max-w-xl mx-auto p-6 mt-10 bg-black/40 backdrop-blur rounded-2xl relative z-10">

<h2 class="text-3xl font-bold text-center mb-1">
FLORES Studios
</h2>

<h3 class="text-xl font-semibold text-center text-pink-200 mb-2">
Descargar Videos De TikTok
</h3>

<p class="text-center mb-6">
Video Â· Imagen Â· Mp3
</p>

<input id="videoURL"
class="w-full p-3 rounded-xl text-black"
placeholder="Pega aquÃ­ el enlace de TikTok">

<button onclick="processTikTok()"
class="w-full mt-4 p-3 rounded-xl font-semibold btn-main">
DESCARGAR
</button>

<div id="loading" class="hidden mt-4">
<div class="loader"></div>
</div>

<div id="previewContainer" class="hidden mt-6">

<video id="previewVideo" controls class="w-full rounded-xl hidden"></video>
<img id="previewImage" class="w-full rounded-xl hidden">

<div class="grid gap-3 mt-4">
<a id="downloadHD" target="_blank"
class="hidden bg-pink-500 p-3 rounded-xl text-center">
DESCARGAR VIDEO HD
</a>

<a id="downloadMP3" target="_blank"
class="hidden bg-pink-600 p-3 rounded-xl text-center">
DESCARGAR MP3
</a>

<a id="downloadIMG" target="_blank"
class="hidden bg-pink-700 p-3 rounded-xl text-center">
DESCARGAR IMAGEN
</a>
</div>
</div>
</div>

<!-- ðŸ’– MENSAJE COMPLETO -->
<div class="valentine-box">
<h3>Â¡Feliz dÃ­a de San ValentÃ­n! ðŸ’–</h3>
<p>
A todos aquellos que aman, que son amados y que creen en el amor,
les deseo un dÃ­a lleno de alegrÃ­a, cariÃ±o y momentos especiales.
Que el amor que compartimos nos haga mÃ¡s fuertes y felices. ðŸ’•
</p>
</div>

<footer class="text-center text-xs mt-10 mb-28 relative z-10">
Â© 2026 FLORES Studios
</footer>

<script>

/* ðŸŒ¸ FONDO ROTATIVO */
const backgrounds=[
"https://i.imgur.com/WoGyn8Y.jpg",
"https://i.imgur.com/asHhCbb.jpg",
"https://i.imgur.com/NYG2KFl.jpg"
];

let bgIndex=0;

function changeBackground(){
document.body.style.backgroundImage=`url('${backgrounds[bgIndex]}')`;
bgIndex=(bgIndex+1)%backgrounds.length;
}

changeBackground();
setInterval(changeBackground,4000);

/* ðŸ”¥ FUNCIÃ“N PRINCIPAL */
async function processTikTok(){

const url=document.getElementById('videoURL').value.trim();
const loading=document.getElementById('loading');
const previewContainer=document.getElementById('previewContainer');
const previewVideo=document.getElementById('previewVideo');
const previewImage=document.getElementById('previewImage');
const downloadHD=document.getElementById('downloadHD');
const downloadMP3=document.getElementById('downloadMP3');
const downloadIMG=document.getElementById('downloadIMG');

if(!url || !/(tiktok\.com|vm\.tiktok\.com)/.test(url)){
alert('Pega un enlace vÃ¡lido de TikTok');
return;
}

previewVideo.classList.add('hidden');
previewImage.classList.add('hidden');
downloadHD.classList.add('hidden');
downloadMP3.classList.add('hidden');
downloadIMG.classList.add('hidden');
previewContainer.classList.add('hidden');
loading.classList.remove('hidden');

try{

const apiURL=`https://www.tikwm.com/api/?url=${encodeURIComponent(url)}&hd=1`;
const res=await fetch(apiURL);

if(!res.ok) throw new Error();

const json=await res.json();
if(json.code!==0 || !json.data) throw new Error();

const d=json.data;

/* VIDEO */
if(d.play){
previewVideo.src=d.play;
previewVideo.classList.remove('hidden');
downloadHD.href=d.play;
downloadHD.rel="noopener noreferrer";
downloadHD.classList.remove('hidden');
}

/* MP3 */
if(d.music){
downloadMP3.href=d.music;
downloadMP3.rel="noopener noreferrer";
downloadMP3.classList.remove('hidden');
}

/* IMAGEN */
if(d.images && d.images.length>0){
previewImage.src=d.images[0];
previewImage.classList.remove('hidden');
downloadIMG.href=d.images[0];
downloadIMG.rel="noopener noreferrer";
downloadIMG.classList.remove('hidden');
}

previewContainer.classList.remove('hidden');
document.getElementById('videoURL').value="";

}catch(e){
alert("Error al procesar el enlace o la API no respondiÃ³");
console.error(e);
}

loading.classList.add('hidden');
}

</script>

</body>
</html>