<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Descargar TikTok Sin Marca de Agua</title>

<script src="https://cdn.tailwindcss.com"></script>

<style>
/* Fondo */
body{
  background:linear-gradient(180deg,#d1fae5,#ecfeff);
}

/* Loader */
.loader{
  border:6px solid #ffffff;
  border-top:6px solid #10b981;
  border-radius:50%;
  width:45px;
  height:45px;
  animation:spin .9s linear infinite;
  margin:auto;
}
@keyframes spin{
  to{transform:rotate(360deg)}
}

/* Botón principal */
.btn-main{
  background:linear-gradient(45deg,#10b981,#06b6d4);
  color:#ffffff;
}

/* WhatsApp */
.whatsapp{
  position:fixed;
  bottom:20px;
  right:20px;
  background:#10b981;
  padding:14px;
  border-radius:50%;
  box-shadow:0 4px 12px rgba(0,0,0,.3);
  z-index:9999;
}
.whatsapp img{
  width:36px;
  height:36px;
}
</style>
</head>

<body class="text-gray-800">

<!-- CONTENEDOR PRINCIPAL -->
<div class="max-w-xl mx-auto p-6 mt-8 bg-white rounded-2xl shadow-xl border border-emerald-300">

  <h1 class="text-3xl font-bold text-center text-emerald-600 mb-4">
    Descargar Videos de TikTok
  </h1>

  <p class="text-center text-gray-600 mb-6">
    Sin marca de agua · HD · 4K · MP3
  </p>

  <input
    id="videoURL"
    type="text"
    class="w-full p-3 border-2 border-emerald-400 rounded-xl focus:outline-none focus:ring-2 focus:ring-emerald-300"
    placeholder="Pega aquí el enlace de TikTok"
  >

  <button
    onclick="processVideo()"
    class="w-full mt-4 p-3 rounded-xl font-semibold btn-main">
    Descargar
  </button>

  <div id="loading" class="hidden mt-4">
    <div class="loader"></div>
  </div>

  <div id="previewContainer" class="hidden mt-6">
    <video id="previewVideo" controls class="w-full rounded-xl"></video>

    <div class="grid gap-3 mt-4">
      <a id="downloadHD" target="_blank"
         class="block bg-emerald-500 text-white p-3 rounded-xl text-center">
        Descargar HD
      </a>
      <a id="download4K" target="_blank"
         class="block bg-emerald-600 text-white p-3 rounded-xl text-center">
        Descargar 4K
      </a>
      <a id="downloadMP3" target="_blank"
         class="block bg-emerald-700 text-white p-3 rounded-xl text-center">
        Descargar MP3
      </a>
    </div>
  </div>
</div>

<!-- FOOTER -->
<footer class="max-w-xl mx-auto mt-6 mb-10 p-4 bg-white rounded-2xl shadow text-center text-xs text-gray-500">
  © 2026 FLORES Studios. Todos los derechos reservados.
</footer>

<!-- TIKTOK EMBED -->
<div class="max-w-xl mx-auto mb-10 bg-white rounded-2xl shadow-xl border border-emerald-300 p-4">
  <blockquote class="tiktok-embed"
    cite="https://www.tiktok.com/@floresstudios/video/7582554970243747093"
    data-video-id="7582554970243747093"
    style="max-width:100%;min-width:325px;">
    <section></section>
  </blockquote>
</div>
<script async src="https://www.tiktok.com/embed.js"></script>

<!-- WHATSAPP -->
<a href="https://wa.me/51956461177?text=Hola%20vengo%20desde%20la%20p%C3%A1gina%20web"
   target="_blank"
   class="whatsapp">
  <img src="https://upload.wikimedia.org/wikipedia/commons/6/6b/WhatsApp.svg" alt="WhatsApp">
</a>

<!-- SCRIPT -->
<script>
async function processVideo(){
  const url = document.getElementById('videoURL').value.trim();
  const loading = document.getElementById('loading');
  const previewContainer = document.getElementById('previewContainer');
  const previewVideo = document.getElementById('previewVideo');
  const downloadHD = document.getElementById('downloadHD');
  const download4K = document.getElementById('download4K');
  const downloadMP3 = document.getElementById('downloadMP3');

  if(!url || !url.includes('tiktok.com')){
    alert('Pega un enlace válido de TikTok');
    return;
  }

  loading.classList.remove('hidden');
  previewContainer.classList.add('hidden');

  try{
    const response = await fetch('https://www.tikwm.com/api/',{
      method:'POST',
      headers:{'Content-Type':'application/json'},
      body:JSON.stringify({ url:url, hd:1 })
    });

    const data = await response.json();
    if(data.code !== 0) throw new Error();

    previewVideo.src = data.data.play;
    downloadHD.href = data.data.play;
    download4K.href = data.data.hdplay || data.data.play;
    downloadMP3.href = data.data.music || '#';

    previewContainer.classList.remove('hidden');
  }catch(e){
    alert('No se pudo procesar el video');
  }

  loading.classList.add('hidden');
}
</script>

</body>
</html>